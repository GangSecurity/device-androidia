on init
    start earlyaudioalsa

{{#eavb}}
on post-fs
    setprop persist.vendor.audio.audioConf AudioParameterFramework-tdf8532.xml
    setprop persist.vendor.audio.routeConf RouteParameterFramework-tdf8532.xml

on property:persist.vendor.eavb.mode=m && property:persist.vendor.avb.clock.raw=y
    setprop persist.vendor.audio.audioConf AudioParameterFramework-tdf8532-eavb-master-raw.xml

on property:persist.vendor.eavb.mode=m && property:persist.vendor.avb.clock.raw=n
    setprop persist.vendor.audio.audioConf AudioParameterFramework-tdf8532-eavb-master.xml

on property:persist.vendor.eavb.mode=s
    setprop persist.vendor.audio.audioConf AudioParameterFramework-tdf8532-eavb-slave.xml
{{/eavb}}
{{^eavb}}
on post-fs
    setprop persist.vendor.audio.audioConf AudioParameterFramework-tdf8532-no-eavb.xml
    setprop persist.vendor.audio.routeConf RouteParameterFramework-tdf8532.xml
{{/eavb}}

service earlyaudioalsa /vendor/bin/early_audio_alsa.sh
    user audioserver
    group audio
    oneshot
    disabled

service vendor.earlyavbaudio /vendor/bin/early_audio_alsa_avb.sh
    user audioserver
    group audio
    oneshot
    disabled

